{
  "$schema": "http://json-schema.org/draft/2019-09/schema#",
  "description": "JSON Schema SIVI 2.0",
  "//comment": {
    "functionDescription": "Bericht_7._Mutatiesaldi_(00551)",
    "afdDefinitionChangeLog": "20240808 0907 uitlevering (AOS 001.02) - juli"
  },
  "definitions": {
    "commonFunctional": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "default"
        },
        "afdDefinitionName": {
          "description": "Name of the AFD-definition. (NL: De AFD definitienaam van o.a. webservices en verzekeringsproducten.)",
          "customDescription": "Soort bericht",
          "type": "string",
          "maxLength": 80,
          "const": "VBPUO-001.00-Bericht_7._Mutatiesaldi_(00551)"
        },
        "afdDefinitionVersion": {
          "description": "Version of the AFD-definition. (NL: Met AFD definitieversienummer wordt aangegeven over welke versie van de (product)definitie wordt gecommuniceerd.)",
          "customDescription": "Versie van het JSON schema",
          "type": "string",
          "maxLength": 80,
          "const": "001.02"
        },
        "originalMessageId": {
          "description": "The messageId of the original message, which is replaced by this message. (NL: MessageId van het oorspronkelijke bericht, dat wordt vervangen door dit bericht.)",
          "customDescription": "Het oorspronkelijke messageId van het bericht dat wordt vervangen door dit bericht",
          "type": "string",
          "maxLength": 22
        },
        "function": {
          "description": "Message function (NL: Berichtfunctie)",
          "customDescription": "Message function code. (NL: Code waarmee de functie van het bericht wordt aangegeven.)",
          "codelistName": "ADNFUN",
          "type": "string",
          "oneOf": [
            {
              "const": "01"
            },
            {
              "const": "02"
            },
            {
              "const": "09"
            },
            {
              "const": "54"
            }
          ]
        }
      },
      "required": [
        "entityType",
        "afdDefinitionName",
        "afdDefinitionVersion",
        "function"
      ]
    },
    "commonTechnical": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "default"
        },
        "creationDateTime": {
          "description": "Creation date and time (as timestamp) of the (for example) message, system or file. (AFD 2.0 only)",
          "customDescription": "Aanmaakdatum en tijd Date",
          "type": "string",
          "format": "date-time"
        },
        "messageId": {
          "description": "Unique identification of the message. (AFD 2.0 only)",
          "customDescription": "Unieke berichtidentificatie",
          "type": "string",
          "maxLength": 70
        },
        "testMessage": {
          "description": "Indication whether the message is a test message. (NL: Indicatie of sprake is van een testbericht.)",
          "customDescription": "Indicatie testbericht",
          "type": "boolean"
        },
        "party": {
          "type": "array",
          "uniqueItems": true,
          "allOf": [
            {
              "minContains": 1,
              "maxContains": 1,
              "contains": {
                "$ref": "#/definitions/partyReceiver"
              }
            },
            {
              "minContains": 1,
              "maxContains": 1,
              "contains": {
                "$ref": "#/definitions/partySender"
              }
            }
          ]
        }
      },
      "required": [
        "entityType",
        "creationDateTime",
        "messageId",
        "party"
      ]
    },
    "partyReceiver": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "receiver"
        },
        "refKey": {
          "description": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "customDescription": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "type": "string",
          "maxLength": 70
        },
        "organizationName": {
          "description": "Name of professional or branch organization. (NL: Naam beroeps of branche organisatie.)",
          "customDescription": "Naam van de ontvanger(s) (organisatie (s))",
          "type": "string",
          "maxLength": 60
        },
        "rsinNumber": {
          "description": "Governmental identification number for legal entities and associations. (AFD 2.0 only)",
          "customDescription": "Governmental identification number for legal entities and associations (RSIN)",
          "type": "string",
          "maxLength": 9
        }
      },
      "required": [
        "entityType",
        "refKey",
        "organizationName"
      ]
    },
    "partySender": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "sender"
        },
        "refKey": {
          "description": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "customDescription": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "type": "string",
          "maxLength": 70
        },
        "applicationSenderName": {
          "description": "Name of the application that sends the data. (NL: Naam van de applicatie die de gegevens verzendt.)",
          "customDescription": "Naam van de applicatie die het bericht heeft aangemaakt",
          "type": "string",
          "maxLength": 60
        },
        "organizationName": {
          "description": "Name of professional or branch organization. (NL: Naam beroeps of branche organisatie.)",
          "customDescription": "Organisatie naam van de afzender",
          "type": "string",
          "maxLength": 60
        },
        "rsinNumber": {
          "description": "Governmental identification number for legal entities and associations. (AFD 2.0 only)",
          "customDescription": "Governmental identification number for legal entities and associations (RSIN)",
          "type": "string",
          "maxLength": 9
        },
        "party": {
          "type": "array",
          "uniqueItems": true,
          "allOf": [
            {
              "minContains": 0,
              "maxContains": 9,
              "contains": {
                "$ref": "#/definitions/partyContact"
              }
            }
          ]
        }
      },
      "required": [
        "entityType",
        "refKey",
        "organizationName"
      ]
    },
    "partyContact": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "contact"
        },
        "workPhoneNumber": {
          "description": "Work telephone number. (NL: Telefoonnummer werk)",
          "customDescription": "Werk telefoonnummer ",
          "type": "string",
          "maxLength": 60
        },
        "emailWork": {
          "description": "Work email address. (NL: E-mail adres werk)",
          "customDescription": "Werk emailadres ",
          "type": "string",
          "maxLength": 60
        }
      },
      "required": [
        "entityType",
        "workPhoneNumber",
        "emailWork"
      ]
    },
    "document": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "default"
        },
        "refKey": {
          "description": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "customDescription": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "type": "string",
          "maxLength": 70
        },
        "fileName": {
          "description": "Name of the file under which the attachment can be saved. (NL: Naam van het bestand waaronder de bijlage kan worden opgeslagen.)",
          "customDescription": "Name of the file under which the attachment can be saved. (NL: Naam van het bestand waaronder de bijlage kan worden opgeslagen.)",
          "type": "string",
          "maxLength": 60
        },
        "fileExtension": {
          "description": "Extension of the file under which the attachment can be saved. For example &quot;pdf&quot;, &quot;doc&quot;, etc. (NL: Extensienaam van het bestand waaronder de bijlage kan worden opgeslagen. Bijvoorbeeld &quot;PDF&quot;, &quot;DOC&quot;, etc.)",
          "customDescription": "Extension of the file under which the attachment can be saved. For example \"pdf\", \"doc\", etc. (NL: Extensienaam van het bestand waaronder de bijlage kan worden opgeslagen. Bijvoorbeeld \"PDF\", \"DOC\", etc.)",
          "type": "string",
          "oneOf": [
            {
              "const": "pdf"
            },
            {
              "const": "csv"
            },
            {
              "const": "txt"
            }
          ]
        }
      },
      "required": [
        "entityType",
        "refKey",
        "fileName",
        "fileExtension"
      ]
    },
    "partyPensionProvider": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "pensionProvider"
        },
        "organizationName": {
          "description": "Name of professional or branch organization. (NL: Naam beroeps of branche organisatie.)",
          "customDescription": "Naam van de pensioenuitvoerder",
          "type": "string",
          "maxLength": 60
        },
        "rsinNumber": {
          "description": "Governmental identification number for legal entities and associations. (AFD 2.0 only)",
          "customDescription": "Governmental identification number for legal entities and associations (RSIN)",
          "type": "string",
          "maxLength": 9
        },
        "puvCode": {
          "description": "Pension provider (NL: Pensioenuitvoerder)",
          "codelistName": "AFDIDP",
          "$ref": "VBPUO-001.00-Bericht_7._Mutatiesaldi_(00551)-afdCodelists.json#/definitions/AFDIDP",
          "type": "string"
        },
        "pension": {
          "type": "array",
          "uniqueItems": true,
          "allOf": [
            {
              "minContains": 1,
              "maxContains": 999,
              "contains": {
                "$ref": "#/definitions/pensionScheme"
              }
            }
          ]
        }
      },
      "required": [
        "entityType",
        "organizationName",
        "puvCode",
        "pension"
      ]
    },
    "pensionScheme": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "scheme"
        },
        "refKey": {
          "description": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "customDescription": "ID van de pensioenregeling / (Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.))",
          "type": "string",
          "maxLength": 70
        },
        "pensionSchemeName": {
          "description": "Name of the pension scheme. (NL: Naam van de pensioenregeling.)",
          "customDescription": "Naam van de pensioenregeling",
          "type": "string",
          "maxLength": 60
        },
        "financialInformation": {
          "type": "array",
          "uniqueItems": true,
          "allOf": [
            {
              "minContains": 1,
              "maxContains": 1,
              "contains": {
                "$ref": "#/definitions/financialInformationReportingPeriod"
              }
            }
          ]
        },
        "pension": {
          "type": "array",
          "uniqueItems": true,
          "allOf": [
            {
              "minContains": 1,
              "maxContains": 99,
              "contains": {
                "$ref": "#/definitions/pensionCohortPool"
              }
            }
          ]
        }
      },
      "required": [
        "entityType",
        "refKey",
        "pensionSchemeName",
        "financialInformation",
        "pension"
      ]
    },
    "financialInformationReportingPeriod": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "reportingPeriod"
        },
        "tradeDate": {
          "description": "Desired trade date. (NL: Gewenste handelsdatum.)",
          "customDescription": "Gewenste handelsdatum",
          "type": "string",
          "format": "date"
        },
        "mutationValuationDate": {
          "description": "Date of processing changes per age group (cohorts). (NL: Datum verwerking mutaties per leeftijdsgroep.)",
          "customDescription": "Datum verwerking mutaties per leeftijdsgroep",
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "entityType",
        "tradeDate",
        "mutationValuationDate"
      ]
    },
    "pensionCohortPool": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "entityType": {
          "description": "Unique identification of an entity. (NL: De unieke identificatie van een entiteit.)",
          "type": "string",
          "const": "cohortPool"
        },
        "refKey": {
          "description": "Unique reference key assigned to an entity. (NL: Entiteitsreferentie is een unieke referentie sleutel die aan een entiteit wordt toegekend.)",
          "customDescription": "ID van de cohortpool",
          "type": "string",
          "maxLength": 70
        },
        "description": {
          "description": "Description. (NL: Omschrijving)",
          "customDescription": "Beschrijving",
          "type": "string",
          "maxLength": 60
        },
        "currencyType": {
          "description": "Currency   (NL: ISO valutacodetabel (ISO 4217))",
          "customDescription": "Valuta van de cohortgegevens",
          "codelistName": "ISOVAL",
          "$ref": "https://www.sivi.org/afd-online-tool/json/ISOVAL.json#/definitions/ISOVAL",
          "type": "string"
        },
        "inflowPremiumAmount": {
          "description": "Premium contribution per cohort pool per pension scheme. (NL: Premie-inleg per cohortpool per pensioenregeling.)",
          "customDescription": "Premie-inleg per cohortpool per regeling",
          "type": "number",
          "multipleOf": 0.01
        },
        "cohortRef": {
          "description": "Unique referral to the refKey of one or more pension entities with entityType cohort. (AFD 2.0 only)",
          "customDescription": "Geeft aan op welk cohort in de regeling de cohortpool-gegevens betrekking hebben",
          "type": "string",
          "maxLength": 70
        },
        "inflowRebalanceAmount": {
          "description": "Amount of rebalance transactions per cohort pool per pension scheme. (NL: Bedrag van rebalance transacties  per cohortpool per pensioenregeling.)",
          "customDescription": "Geldbedrag van rebalance transacties  per cohortpool per regeling",
          "type": "number",
          "multipleOf": 0.01
        },
        "numberOfRebalanceParticipations": {
          "description": "Rebalance participations per cohort pool per pension scheme, when transferring from a cohort pool to another cohort. (NL: Rebalance participaties per cohortpool per regeling, bij overgang van een cohortpool naar een ander cohort.)",
          "customDescription": "Rebalance participaties per cohortpool per regeling (bij overgang van een cohortpool naar een ander cohort)",
          "type": "integer"
        },
        "numberOfNewParticipations": {
          "description": "New participations to be issued in cohort pool per pension scheme (inflow). (NL: Nieuwe uit te geven participaties in cohortpool per regeling (instroom).)",
          "customDescription": "Nieuwe uit te geven participaties in cohortpool per regeling (instroom)",
          "type": "integer"
        },
        "participationsSummedValueAmount": {
          "description": "Value per cohort pool (sum of participation values) per valuation date. (NL: Waarde per cohortpool (som participatiewaarde) per valuationdate.)",
          "customDescription": "Waarde per cohortpool (som participatiewaarde) per participationValuationDate",
          "type": "number",
          "multipleOf": 0.01
        }
      },
      "required": [
        "entityType",
        "refKey",
        "description",
        "currencyType",
        "inflowPremiumAmount",
        "inflowRebalanceAmount",
        "numberOfRebalanceParticipations",
        "numberOfNewParticipations",
        "participationsSummedValueAmount"
      ]
    }
  },
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "commonFunctional": {
      "type": "array",
      "uniqueItems": true,
      "allOf": [
        {
          "minContains": 1,
          "maxContains": 1,
          "contains": {
            "$ref": "#/definitions/commonFunctional"
          }
        }
      ]
    },
    "commonTechnical": {
      "type": "array",
      "uniqueItems": true,
      "allOf": [
        {
          "minContains": 1,
          "maxContains": 1,
          "contains": {
            "$ref": "#/definitions/commonTechnical"
          }
        }
      ]
    },
    "document": {
      "type": "array",
      "uniqueItems": true,
      "allOf": [
        {
          "minContains": 0,
          "maxContains": 99,
          "contains": {
            "$ref": "#/definitions/document"
          }
        }
      ]
    },
    "party": {
      "type": "array",
      "uniqueItems": true,
      "allOf": [
        {
          "minContains": 1,
          "maxContains": 1,
          "contains": {
            "$ref": "#/definitions/partyPensionProvider"
          }
        }
      ]
    }
  },
  "required": [
    "commonFunctional",
    "commonTechnical",
    "party"
  ]
}



